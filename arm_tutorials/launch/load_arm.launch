<launch> 
  <arg name="pause" default="false"/>  
  <arg name="use_sim_time" default="true"/>  
  <arg name="gui" default="true"/>  
  <arg name="headless" default="false"/> 
  <arg name="debug" default="false"/> 

  <!-- 包含 Gazebo 启动文件 -->
  <include file="$(find gazebo_ros)/launch/empty_world.launch">
    <arg name="paused" value="$(arg pause)" /> 
    <arg name="gui" value="$(arg gui)" />
    <arg name="headless" value="$(arg headless)" />
    <arg name="debug" value="$(arg debug)" />
  </include>

  <!-- 加载 URDF 到参数服务器 -->
  <param name="robot_description" 
         command="$(find xacro)/xacro '$(find arm_all)/urdf/arm_all.urdf'" /> 

  <!-- Spawn 模型到 Gazebo -->
  <node name="spawn_model" pkg="gazebo_ros" type="spawn_model" 
        args="-urdf -model arm -param robot_description
                    -J joint1 0 -J joint2 0 -J joint3 0 -J joint4 0 
            -J joint5 0 -J joint6 0" 
        output="screen" />

  <!-- 加载 ROS Control 配置 -->
  <rosparam file="$(find arm_tutorials)/config/arm_all_gazebo_ros_control.yaml" command="load"/>
  <!-- <rosparam file="$(find arm)/config/controllers.yaml" command="load"/> -->
<!-- <rosparam file="$(find arm_all)/config/moveit_controller.yaml"/> -->

  <!-- 启用仿真时间 -->
  <param name="/use_sim_time" value="$(arg use_sim_time)" />

  <!-- 启动 MoveIt -->
  <include file="$(find arm_all_moveit_config)/launch/demo.launch"> 
    <arg name="moveit_controller_manager" value="ros_control" />
    <arg name="use_gui" value="false" />
    <arg name="load_robot_description" value="false" />
  </include>

  <!-- 启动控制器 -->
<node name="joint_state_controller_spawner" 
      pkg="controller_manager" 
      type="spawner"
      args="joint_state_controller" 
      output="screen"/>

  <include file="$(find arm_tutorials)/launch/ros_controllers.launch"/> 

    <!-- <include file="$(find arm_tutorials)/launch/move_group_interface.launch"/>  -->

        
</launch>